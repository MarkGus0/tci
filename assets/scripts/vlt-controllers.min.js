// 控制器脚本
(function($) {
    'use strict';
    
    // 初始化预加载器
    function initPreloader() {
        $(window).on('load', function() {
            $('.vlt-site-preloader').fadeOut(500);
        });
    }
    
    // 初始化导航栏
    function initNavbar() {
        $(window).on('scroll', function() {
            if ($(this).scrollTop() > 50) {
                $('.vlt-navbar-background').addClass('vlt-navbar-fixed');
            } else {
                $('.vlt-navbar-background').removeClass('vlt-navbar-fixed');
            }
        });
    }
    
    // 初始化轮播
    function initSwiper() {
        new Swiper('.swiper-container', {
            loop: true,
            autoplay: {
                delay: 5000
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true
            }
        });
    }
    
    // 文档加载完成后初始化所有功能
    $(document).ready(function() {
        initPreloader();
        initNavbar();
        initSwiper();
    });
    
})(jQuery);